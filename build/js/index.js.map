{"version":3,"sources":["index.js"],"names":["page","cita","name","date","hour","services","document","addEventListener","App","showServices","showSection","changeSection","prePage","nextPage","validPage","showResume","nameDate","async","result","fetch","db","json","servicios","forEach","service","id","price","servceName","createElement","textContent","classList","add","servicePrice","serviceDiv","dataset","serviceID","onclick","selectService","appendChild","querySelector","error","console","log","e","element","target","tagName","parentElement","contains","remove","parseInt","deleteService","objService","firstElementChild","nextElementSibling","addService","filter","preSection","preTab","querySelectorAll","link","preventDefault","step","getElementById","btnNext","btnPre","divResume","Object","values","includes","noService","nameTxt","value","trim","length","showAlert","alert","message","type","setTimeout"],"mappings":"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","file":"index.js","sourcesContent":["let page = 1;\r\n\r\nconst cita = {\r\n    name: \"\",\r\n    date: \"\",\r\n    hour: \"\",\r\n    services: [],\r\n};\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n    App();\r\n});\r\n\r\nconst App = () => {\r\n    showServices();\r\n\r\n    showSection();\r\n\r\n    changeSection();\r\n\r\n    prePage();\r\n\r\n    nextPage();\r\n\r\n    validPage();\r\n\r\n    showResume();\r\n\r\n    nameDate();\r\n};\r\n\r\nasync function showServices() {\r\n    try {\r\n        const result = await fetch(\"./servicios.json\");\r\n        const db = await result.json();\r\n        const { servicios } = db;\r\n\r\n        servicios.forEach((service) => {\r\n            const { id, name, price } = service;\r\n\r\n            const servceName = document.createElement(\"p\");\r\n            servceName.textContent = name;\r\n            servceName.classList.add(\"service-name\");\r\n\r\n            const servicePrice = document.createElement(\"p\");\r\n            servicePrice.textContent = `$ ${price}`;\r\n            servicePrice.classList.add(\"service-price\");\r\n\r\n            const serviceDiv = document.createElement(\"div\");\r\n            serviceDiv.classList.add(\"service\");\r\n            serviceDiv.dataset.serviceID = id;\r\n\r\n            serviceDiv.onclick = selectService;\r\n\r\n            serviceDiv.appendChild(servceName);\r\n            serviceDiv.appendChild(servicePrice);\r\n\r\n            document.querySelector(\"#servicio\").appendChild(serviceDiv);\r\n        });\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n\r\nfunction selectService(e) {\r\n    let element;\r\n    if (e.target.tagName === \"P\") {\r\n        element = e.target.parentElement;\r\n    } else {\r\n        element = e.target;\r\n    }\r\n\r\n    if (element.classList.contains(\"select\")) {\r\n        element.classList.remove(\"select\");\r\n        const id = parseInt(element.dataset.serviceID);\r\n        deleteService(id);\r\n    } else {\r\n        element.classList.add(\"select\");\r\n\r\n        const objService = {\r\n            id: parseInt(element.dataset.serviceID),\r\n            name: element.firstElementChild.textContent,\r\n            price: element.firstElementChild.nextElementSibling.textContent,\r\n        };\r\n        // console.log(objService);\r\n        addService(objService);\r\n    }\r\n}\r\n\r\nconst deleteService = (id) => {\r\n    const { services } = cita;\r\n    cita.services = services.filter((service) => service.id !== id);\r\n    // console.log(cita);\r\n};\r\n\r\nconst addService = (objService) => {\r\n    const { services } = cita;\r\n    cita.services = [...services, objService];\r\n    // console.log(cita);\r\n};\r\n\r\nconst showSection = () => {\r\n    const preSection = document.querySelector(\".show\");\r\n    if (preSection) {\r\n        preSection.classList.remove(\"show\");\r\n    }\r\n\r\n    const actualSection = document.querySelector(`#step${page}`);\r\n    actualSection.classList.add(\"show\");\r\n\r\n    const preTab = document.querySelector(\".tabs .actual\");\r\n    if (preTab) {\r\n        preTab.classList.remove(\"actual\");\r\n    }\r\n\r\n    const tab = document.querySelector(`[data-step=\"${page}\"]`);\r\n    tab.classList.add(\"actual\");\r\n};\r\n\r\nconst changeSection = () => {\r\n    const links = document.querySelectorAll(\".tabs button\");\r\n\r\n    links.forEach((link) => {\r\n        link.addEventListener(\"click\", (e) => {\r\n            e.preventDefault();\r\n            page = parseInt(e.target.dataset.step);\r\n\r\n            showSection();\r\n            validPage();\r\n        });\r\n    });\r\n};\r\nconst nextPage = () => {\r\n    const btnNext = document.getElementById(\"next\");\r\n\r\n    btnNext.addEventListener(\"click\", () => {\r\n        page++;\r\n        validPage();\r\n    });\r\n};\r\n\r\nconst prePage = () => {\r\n    const btnPre = document.getElementById(\"previous\");\r\n    btnPre.addEventListener(\"click\", () => {\r\n        page--;\r\n        validPage();\r\n    });\r\n};\r\n\r\nconst validPage = () => {\r\n    const btnNext = document.getElementById(\"next\");\r\n    const btnPre = document.getElementById(\"previous\");\r\n\r\n    if (page === 1) {\r\n        btnNext.classList.remove(\"d-none\");\r\n        btnPre.classList.add(\"d-none\");\r\n    } else if (page === 3) {\r\n        btnNext.classList.add(\"d-none\");\r\n        btnPre.classList.remove(\"d-none\");\r\n    } else {\r\n        btnNext.classList.remove(\"d-none\");\r\n        btnPre.classList.remove(\"d-none\");\r\n    }\r\n\r\n    showSection();\r\n};\r\n\r\nconst showResume = () => {\r\n    const { name, date, hour, service } = cita;\r\n\r\n    const divResume = document.querySelector(\".resumeContent\");\r\n\r\n    if (Object.values(cita).includes(\"\")) {\r\n        const noService = document.createElement(\"p\");\r\n        noService.textContent = \"Missing service data, time, date or name\";\r\n        noService.classList.add(\"invalidDate\");\r\n\r\n        divResume.appendChild(noService);\r\n    }\r\n};\r\n\r\nconst nameDate = () => {\r\n    const inputName = document.getElementById(\"name\");\r\n    inputName.addEventListener(\"input\", (e) => {\r\n        const nameTxt = e.target.value.trim();\r\n\r\n        if (nameTxt === \"\" || nameTxt.length < 3) {\r\n            showAlert(\"eres puto\", \"error\");\r\n        } else {\r\n            const alert = document.querySelector('.alert');\r\n            if(alert){\r\n                alert.remove();\r\n            }\r\n            cita.name = nameTxt;\r\n            // console.log(cita);\r\n        }\r\n    });\r\n};\r\n\r\nconst showAlert = (message, type) => {\r\n    const preAlert = document.querySelector('.alert');\r\n    if(preAlert){\r\n        return;\r\n    }\r\n    console.log(`Hijole carnal pero el patron dice que ${message}`);\r\n\r\n    const alert = document.createElement(\"div\");\r\n    alert.textContent = message;\r\n    alert.classList.add(\"alert\");\r\n\r\n    if (type === \"error\") {\r\n        alert.classList.add(\"error\");\r\n    }\r\n    const formulario = document.querySelector('.formulario');\r\n    formulario.appendChild(alert);\r\n    // console.log(alert);\r\n\r\n    setTimeout(() => {\r\n        alert.remove();\r\n    }, 3000);\r\n};\r\n"]}